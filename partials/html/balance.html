<div>
  <link ng-href="partials/css/balance.css" type="text/css" rel="stylesheet" />
  
  <div class="container">
    <div class="row">
      <div class="col-sm-4 col-md-3" id="datepicker-container">
        <input type="text" id="datepicker" class="form-control visible-xs-block" />
        <div id="datepicker-md" class="hidden-xs"></div>
      </div>
      <div class="col-sm-8 col-md-6">
        <div class="container-fluid" id="form-container">
          <div class="row">
            <!-- Категория платежа -->
            <div class="dropdown col-sm-4">
              <button class="btn btn-default dropdown-toggle" type="button" id="categoryDd" data-toggle="dropdown" tabindex="1" ng-disabled="isFormLocked">
                {{selectedEntry.category.name}}
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="categoryDd">
                <li ng-repeat="category in categories" role="presentation" fin-select="categorySelected(category)">
                  <a role="menuitem" tabindex="2">{{category.name}}</a>
                </li>
              </ul>
            </div>
            <!-- Основной счет -->
            <div class="dropdown col-sm-4">
              <button class="btn btn-default dropdown-toggle" type="button" id="accountName1" data-toggle="dropdown" tabindex="3" ng-disabled="isFormLocked">
                {{selectedEntry.acc1.name}}
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="accountName1">
                <li ng-repeat="account in accounts" role="presentation" fin-select="account1Selected(account)">
                  <a role="menuitem" tabindex="4">{{account.name}}</a>
                </li>
              </ul>
            </div>
            <!-- Дополнительный счет -->
            <div class="dropdown col-sm-4" ng-show="acc2Visible">
              <button class="btn btn-default dropdown-toggle" type="button" id="accountName2" data-toggle="dropdown" tabindex="5" ng-disabled="isFormLocked">
                {{selectedEntry.acc2.name}}
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="accountName2">
                <li ng-repeat="account in accounts | filter : notEqualAcc1" role="presentation" fin-select="account2Selected(account)">
                  <a role="menuitem" tabindex="6">{{account.name}}</a>
                </li>
              </ul>
            </div>
          </div>

          <!-- Описание операции -->
          <div class="row">
            <div class="col-sm-12">
              <input type="text" class="form-control" id="exampleInputEmail2" placeholder="Описание операции" tabindex="7" 
                ng-model="selectedEntry.description" ng-disabled="isFormLocked" ng-change="setEntryModified(true)"/>
            </div>
          </div>
          <!-- Сумма -->
          <div class="row">
            <div class="col-sm-12">
              <input type="number" step="0.01" class="form-control" id="exampleInputEmail2" placeholder="Сумма" tabindex="8" 
                ng-model="selectedEntry.sum" ng-disabled="isFormLocked" ng-change="setEntryModified(true)"/>
            </div>
          </div>
          <!-- Кнопки CRUD -->
          <div class="row">
            <div class="col-sm-4" ng-hide="isEditButtonsVisible">
              <button type="button" class="btn btn-success" tabindex="9" ng-click="addEntry()">Добавить</button>
            </div>
            <!-- <div class="col-sm-4" ng-show="isEditButtonsVisible">
              <button type="button" class="btn btn-warning" tabindex="10" ng-click="editEntry()">Изменить</button>
            </div> -->
            <div class="col-sm-4" ng-show="isEditButtonsVisible">
              <button type="button" class="btn btn-danger" tabindex="11" ng-click="deleteEntry()">Удалить</button>
            </div>
            <div class="col-sm-4" ng-show="entryModified">
              <button type="button" class="btn btn-default" tabindex="11" ng-click="cancelChanges()">Отмена</button>
            </div>
          </div>
        </div>
      </div>
      <!-- Таблица счетов -->
      <div class="hidden-xs hidden-sm col-md-3" id="accountTable">
        <table class="table table-condensed">
          <thead>
            <tr>
              <th>Счет</th>
              <th>Остаток</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="account in accounts">
              <td>{{account.name}}</td>
              <td>{{account.state}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <table class="table table-condensed table-hover">
          <thead>
            <tr>
              <th>Категория</th>
              <th>Описание</th>
              <th>Счет</th>
              <th>Сумма</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="entry in entries" class="entry-table-row" ng-click="selectEntry(entry)" ng-class="{selected : entry.selected}">
              <td>{{entry.category.name}}</td>
              <td>{{entry.description}}</td>
              <td>{{entry.acc1.name}}  <span ng-show="entry.acc2" class="glyphicon glyphicon-arrow-right"></span>  {{entry.acc2.name}}</td>
              <td>{{entry.sum}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-4 col-sm-offset-4">
        <button type="button" class="btn btn-primary" style="width:100%">Загрузить еще</button>
      </div>
    </div>
  </div>
</div>